hc = hclust(dist(data, method = "euclidean"))
hc_clusters = cutree(hc, k = 4) #3
hc_SIL = cluster::silhouette(hc_clusters, dist(data, method = "euclidean"))
avg_cluster_hc_SIL = aggregate(hc_SIL[,3], list(hc_SIL[,1]), mean)
avg_hc_SIL = mean(hc_SIL[, 3])
avg_hc_SIL
res = TopoCKPDv2(data,nKNN=38, nClust=4, power=5, sigma =100,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
res = TopoCKPDv2(data,nKNN=38, nClust=4, power=5, sigma =0.001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
res = TopoCKPDv2(data,nKNN=38, nClust=4, power=3, sigma =0.001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
avg_hc_SIL
res = TopoCKPDv2(data,nKNN=38, nClust=4, power=5, sigma =0.0000001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
res = TopoCKPDv2(data,nKNN=38, nClust=4, power=15, sigma =0.0000001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=39, nClust=4, power=15, sigma =0.0000001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
res = TopoCKPDv2(data,nKNN=48, nClust=4, power=15, sigma =0.0000001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
data <- covid19us::get_states_daily(state = "all", date = "2021-01-14")
#data<-data[c(3,9)]
# manually extract numeric features -> replace with automatic numeric feature selection.
data<-data[c(3,4,5,8,9,10,11,12,13,14,15,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44,45,46,47,49,50,51,52,53)]
N<-dim(data)[2]
data[is.na(data)] = 0
cs<-colSums(data)
for (i in 1:N){
if (cs[i] >0){
data[,i]<-data[,i]/cs[i]
}
}
write.csv(as.matrix(data), file= "covid19us_data_01_14_2021.csv")
# kmeans #
dMatrix_1 = as.matrix(dist(data,method = "euclidean"))
kmeans_res = kmeansClustering(dMatrix_1, ClusterNo=4,PlotIt=FALSE,Verbose = F) #3
regular_SIL = cluster::silhouette(kmeans_res$Cls, dMatrix_1)
avg_cluster_kmeans_SIL = aggregate(regular_SIL[,3], list(regular_SIL[,1]), mean)
avg_kmeans_SIL = mean(regular_SIL[, 3])
avg_kmeans_SIL
# Agglomerative Hierarchical Clustering #
hc = hclust(dist(data, method = "euclidean"))
hc_clusters = cutree(hc, k = 4) #3
hc_SIL = cluster::silhouette(hc_clusters, dist(data, method = "euclidean"))
avg_cluster_hc_SIL = aggregate(hc_SIL[,3], list(hc_SIL[,1]), mean)
avg_hc_SIL = mean(hc_SIL[, 3])
avg_hc_SIL
dMatrix_3 <- as.matrix(dist(data, method = "euclidean"))
result <- TopoCBN(dMatrix_3,nKNN=47,dist_matrix = TRUE)
CBN_SIL = cluster::silhouette(result$assignments, dist(data, method = "euclidean"))
avg_cluster_CBN_SIL = aggregate(CBN_SIL[,3], list(CBN_SIL[,1]), mean)
avg_CBN_SIL = mean(CBN_SIL[, 3])
avg_CBN_SIL
result$assignments
data <- covid19us::get_states_daily(state = "all", date = "2021-01-15")
#data<-data[c(3,9)]
# manually extract numeric features -> replace with automatic numeric feature selection.
data<-data[c(3,4,5,8,9,10,11,12,13,14,15,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44,45,46,47,49,50,51,52,53)]
N<-dim(data)[2]
data[is.na(data)] = 0
cs<-colSums(data)
for (i in 1:N){
if (cs[i] >0){
data[,i]<-data[,i]/cs[i]
}
}
dMatrix_1 = as.matrix(dist(data,method = "euclidean"))
kmeans_res = kmeansClustering(dMatrix_1, ClusterNo=4,PlotIt=FALSE,Verbose = F) #3
regular_SIL = cluster::silhouette(kmeans_res$Cls, dMatrix_1)
avg_cluster_kmeans_SIL = aggregate(regular_SIL[,3], list(regular_SIL[,1]), mean)
avg_kmeans_SIL = mean(regular_SIL[, 3])
avg_kmeans_SIL
# Agglomerative Hierarchical Clustering #
hc = hclust(dist(data, method = "euclidean"))
hc_clusters = cutree(hc, k = 4) #3
hc_SIL = cluster::silhouette(hc_clusters, dist(data, method = "euclidean"))
avg_cluster_hc_SIL = aggregate(hc_SIL[,3], list(hc_SIL[,1]), mean)
avg_hc_SIL = mean(hc_SIL[, 3])
avg_hc_SIL
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=15, sigma =0.0000001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
data <- covid19us::get_states_daily(state = "all", date = "2021-01-20")
#data<-data[c(3,9)]
# manually extract numeric features -> replace with automatic numeric feature selection.
data<-data[c(3,4,5,8,9,10,11,12,13,14,15,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44,45,46,47,49,50,51,52,53)]
N<-dim(data)[2]
data[is.na(data)] = 0
cs<-colSums(data)
for (i in 1:N){
if (cs[i] >0){
data[,i]<-data[,i]/cs[i]
}
}
write.csv(as.matrix(data), file= "covid19us_data_01_20_2021.csv")
# kmeans #
dMatrix_1 = as.matrix(dist(data,method = "euclidean"))
kmeans_res = kmeansClustering(dMatrix_1, ClusterNo=4,PlotIt=FALSE,Verbose = F) #3
regular_SIL = cluster::silhouette(kmeans_res$Cls, dMatrix_1)
avg_cluster_kmeans_SIL = aggregate(regular_SIL[,3], list(regular_SIL[,1]), mean)
avg_kmeans_SIL = mean(regular_SIL[, 3])
avg_kmeans_SIL
# Agglomerative Hierarchical Clustering #
hc = hclust(dist(data, method = "euclidean"))
hc_clusters = cutree(hc, k = 4) #3
hc_SIL = cluster::silhouette(hc_clusters, dist(data, method = "euclidean"))
avg_cluster_hc_SIL = aggregate(hc_SIL[,3], list(hc_SIL[,1]), mean)
avg_hc_SIL = mean(hc_SIL[, 3])
avg_hc_SIL
res = TopoCKPDv2(data,nKNN=48, nClust=4, power=3, sigma =0.0000001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=3, sigma =0.0000001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
avg_hc_SIL
dMatrix_3 <- as.matrix(dist(data, method = "euclidean"))
result <- TopoCBN(dMatrix_3,nKNN=47,dist_matrix = TRUE)
CBN_SIL = cluster::silhouette(result$assignments, dist(data, method = "euclidean"))
avg_cluster_CBN_SIL = aggregate(CBN_SIL[,3], list(CBN_SIL[,1]), mean)
avg_CBN_SIL = mean(CBN_SIL[, 3])
avg_CBN_SIL
result$assignments
avg_kmeans_SIL
avg_hc_SIL
avg_CBN_SIL
avg_topockpd_SIL
topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
data <- covid19us::get_states_daily(state = "all", date = "2021-01-15")
#data<-data[c(3,9)]
# manually extract numeric features -> replace with automatic numeric feature selection.
data<-data[c(3,4,5,8,9,10,11,12,13,14,15,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44,45,46,47,49,50,51,52,53)]
N<-dim(data)[2]
data[is.na(data)] = 0
cs<-colSums(data)
for (i in 1:N){
if (cs[i] >0){
data[,i]<-data[,i]/cs[i]
}
}
dMatrix_1 = as.matrix(dist(data,method = "euclidean"))
kmeans_res = kmeansClustering(dMatrix_1, ClusterNo=4,PlotIt=FALSE,Verbose = F) #3
regular_SIL = cluster::silhouette(kmeans_res$Cls, dMatrix_1)
avg_cluster_kmeans_SIL = aggregate(regular_SIL[,3], list(regular_SIL[,1]), mean)
avg_kmeans_SIL = mean(regular_SIL[, 3])
avg_kmeans_SIL
# Agglomerative Hierarchical Clustering #
hc = hclust(dist(data, method = "euclidean"))
hc_clusters = cutree(hc, k = 4) #3
hc_SIL = cluster::silhouette(hc_clusters, dist(data, method = "euclidean"))
avg_cluster_hc_SIL = aggregate(hc_SIL[,3], list(hc_SIL[,1]), mean)
avg_hc_SIL = mean(hc_SIL[, 3])
avg_hc_SIL
data <- covid19us::get_states_daily(state = "all", date = "2021-01-21")
#data<-data[c(3,9)]
# manually extract numeric features -> replace with automatic numeric feature selection.
data<-data[c(3,4,5,8,9,10,11,12,13,14,15,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44,45,46,47,49,50,51,52,53)]
N<-dim(data)[2]
data[is.na(data)] = 0
cs<-colSums(data)
for (i in 1:N){
if (cs[i] >0){
data[,i]<-data[,i]/cs[i]
}
}
write.csv(as.matrix(data), file= "covid19us_data_01_21_2021.csv")
# kmeans #
dMatrix_1 = as.matrix(dist(data,method = "euclidean"))
kmeans_res = kmeansClustering(dMatrix_1, ClusterNo=4,PlotIt=FALSE,Verbose = F) #3
regular_SIL = cluster::silhouette(kmeans_res$Cls, dMatrix_1)
avg_cluster_kmeans_SIL = aggregate(regular_SIL[,3], list(regular_SIL[,1]), mean)
avg_kmeans_SIL = mean(regular_SIL[, 3])
avg_kmeans_SIL
# Agglomerative Hierarchical Clustering #
hc = hclust(dist(data, method = "euclidean"))
hc_clusters = cutree(hc, k = 4) #3
hc_SIL = cluster::silhouette(hc_clusters, dist(data, method = "euclidean"))
avg_cluster_hc_SIL = aggregate(hc_SIL[,3], list(hc_SIL[,1]), mean)
avg_hc_SIL = mean(hc_SIL[, 3])
avg_hc_SIL
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=3, sigma =0.0000001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
avg_hc_SIL
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=3, sigma =10,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=5, sigma =10,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=15, sigma =10,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
res = TopoCKPDv2(data,nKNN=48, nClust=4, power=3, sigma =0.0001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=38, nClust=4, power=3, sigma =0.0001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
dMatrix_3 <- as.matrix(dist(data, method = "euclidean"))
result <- TopoCBN(dMatrix_3,nKNN=47,dist_matrix = TRUE)
CBN_SIL = cluster::silhouette(result$assignments, dist(data, method = "euclidean"))
avg_cluster_CBN_SIL = aggregate(CBN_SIL[,3], list(CBN_SIL[,1]), mean)
avg_CBN_SIL = mean(CBN_SIL[, 3])
avg_CBN_SIL
result$assignments
avg_CBN_SIL
avg_hc_SIL
avg_kmeans_SIL
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=3, sigma =0.0001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=15, sigma =0.0001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
data <- covid19us::get_states_daily(state = "all", date = "2021-01-22")
#data<-data[c(3,9)]
# manually extract numeric features -> replace with automatic numeric feature selection.
data<-data[c(3,4,5,8,9,10,11,12,13,14,15,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44,45,46,47,49,50,51,52,53)]
N<-dim(data)[2]
data[is.na(data)] = 0
cs<-colSums(data)
for (i in 1:N){
if (cs[i] >0){
data[,i]<-data[,i]/cs[i]
}
}
write.csv(as.matrix(data), file= "covid19us_data_01_22_2021.csv")
# kmeans #
dMatrix_1 = as.matrix(dist(data,method = "euclidean"))
kmeans_res = kmeansClustering(dMatrix_1, ClusterNo=4,PlotIt=FALSE,Verbose = F) #3
regular_SIL = cluster::silhouette(kmeans_res$Cls, dMatrix_1)
avg_cluster_kmeans_SIL = aggregate(regular_SIL[,3], list(regular_SIL[,1]), mean)
avg_kmeans_SIL = mean(regular_SIL[, 3])
avg_kmeans_SIL
# Agglomerative Hierarchical Clustering #
hc = hclust(dist(data, method = "euclidean"))
hc_clusters = cutree(hc, k = 4) #3
hc_SIL = cluster::silhouette(hc_clusters, dist(data, method = "euclidean"))
avg_cluster_hc_SIL = aggregate(hc_SIL[,3], list(hc_SIL[,1]), mean)
avg_hc_SIL = mean(hc_SIL[, 3])
avg_hc_SIL
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=15, sigma =0.0001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=3, sigma =0.0001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=3, sigma =10,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=48, nClust=4, power=3, sigma =10,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=38, nClust=4, power=3, sigma =10,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=38, nClust=4, power=3, sigma =0.00001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
dMatrix_3 <- as.matrix(dist(data, method = "euclidean"))
result <- TopoCBN(dMatrix_3,nKNN=47,dist_matrix = TRUE)
CBN_SIL = cluster::silhouette(result$assignments, dist(data, method = "euclidean"))
avg_cluster_CBN_SIL = aggregate(CBN_SIL[,3], list(CBN_SIL[,1]), mean)
avg_CBN_SIL = mean(CBN_SIL[, 3])
avg_CBN_SIL
result$assignments
# end #
avg_hc_SIL
avg_kmeans_SIL
avg_topockpd_SIL
res = TopoCKPDv2(data,nKNN=38, nClust=4, power=3, sigma =0.00001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
data <- covid19us::get_states_daily(state = "all", date = "2021-01-23")
#data<-data[c(3,9)]
# manually extract numeric features -> replace with automatic numeric feature selection.
data<-data[c(3,4,5,8,9,10,11,12,13,14,15,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44,45,46,47,49,50,51,52,53)]
N<-dim(data)[2]
data[is.na(data)] = 0
cs<-colSums(data)
for (i in 1:N){
if (cs[i] >0){
data[,i]<-data[,i]/cs[i]
}
}
write.csv(as.matrix(data), file= "covid19us_data_01_23_2021.csv")
# kmeans #
dMatrix_1 = as.matrix(dist(data,method = "euclidean"))
kmeans_res = kmeansClustering(dMatrix_1, ClusterNo=4,PlotIt=FALSE,Verbose = F) #3
regular_SIL = cluster::silhouette(kmeans_res$Cls, dMatrix_1)
avg_cluster_kmeans_SIL = aggregate(regular_SIL[,3], list(regular_SIL[,1]), mean)
avg_kmeans_SIL = mean(regular_SIL[, 3])
avg_kmeans_SIL
# Agglomerative Hierarchical Clustering #
hc = hclust(dist(data, method = "euclidean"))
hc_clusters = cutree(hc, k = 4) #3
hc_SIL = cluster::silhouette(hc_clusters, dist(data, method = "euclidean"))
avg_cluster_hc_SIL = aggregate(hc_SIL[,3], list(hc_SIL[,1]), mean)
avg_hc_SIL = mean(hc_SIL[, 3])
avg_hc_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=44, nClust=4, power=3, sigma =0.00001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=48, nClust=4, power=3, sigma =0.00001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=39, nClust=4, power=3, sigma =0.00001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
avg_hc_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=37, nClust=4, power=3, sigma =0.00001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=39, nClust=4, power=3, sigma =10,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=39, nClust=4, power=15, sigma =0.00001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
# TopoCKPD #
res = TopoCKPDv2(data,nKNN=40, nClust=4, power=15, sigma =0.00001,
preserveOrdering=FALSE, null_dim = FALSE, first_dim = FALSE)
topockpd_SIL = cluster::silhouette(res$results$Cls, dist(data, method = "euclidean"))
#topockpd_SIL = cluster::silhouette(res$results$Cls, res$dist_object)
avg_cluster_topockpd_SIL = aggregate(topockpd_SIL[,3], list(topockpd_SIL[,1]), mean)
avg_topockpd_SIL = mean(topockpd_SIL[, 3])
avg_topockpd_SIL
